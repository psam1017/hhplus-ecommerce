안녕하세요 코치님! 이번 주에만 3번 연락드리네요...ㅎㅎ
제가 주문하는 API 가 좀 맘에 안 들어서 개선시켜보려고 하고 있습니다. 그래서, 장바구니 ID 를 전달받아 주문하는 로직과 상품 ID&수량을 전달받아 주문하는 로직 2가지를 만들고 싶은데, 이 두 가지의 로직을 하나의 API 로 처리할 수 있을지, 따로 API 를 만드는 게 맞을지가 고민입니다. 하나의 API 에서 두 가지 로직을 모두 처리하려고 하니 로직이 깔끔해지진 않겠다는 생각이 들고, 반면에 두 개의 API 를 만드는 것은 중간에 중복되는 로직이 생겨서 유지보수를 어렵게 할 것 같다는 생각이 듭니다(여러 수강생들과 토론하면서 내려진 결론입니다).
이러한 상황에서 API 를 어떻게 만드는 게 더 좋은 방향일까요? 또는 어떤 것들을 고려하는 게 좋을까요?
(Case 1)
바로 주문 API : 상품 ID 와 수량을 전달
장바구니로 주문 API : 장바구니 ID 를 전달
(Case 2)
통합 주문 API : { 상품ID, 수량, 장바구니ID } 객체를 전달하고, 서비스에서 상품ID 와 수량이 같이 있으면 바로 조회, 또는 장바구니 ID 만 있으면 장바구니로 조회, 둘 다 없으면 예외 발생
** 참고로, 지금 API 는 상품 ID & 수량만 전달 받고 주문을 수행한 다음, 마지막으로 만약 장바구니에 이 상품 ID 를 가진 상품이 있다면 장바구니에서 삭제하는 로직을 가지고 있습니다. 이것도 쓰려면 쓰겠지만 사용자에게 오해를 불러일으키는 동작을 할 여지가 있어서 바꾸면 좋겠다는 판단이 듭니다. (편집됨)

---

성민님 답변이 늦었습니다 ㅎㅎ;;
저라면 주문서를 만드는 api는 상품 id와 갯수만 받을것 같아요.
장바구니 id를 받아서 처리하지 않을것 같습니다.
그래서 case 1번과 2번 둘다 필요없지 않을까 싶어요

---

감사합니다 코치님 불금에 연락주시고 감동...ㅠㅠ
그럼 마지막으로! 장바구니에 상품 A 가 있는 상태에서, 상품 A를 주문하면 장바구니에서 상품 A를 삭제하는 로직을 만들면 될까요??
말씀하신 경우에 이어서 마지막 로직으로요

---

그건 비지니스에 따라 다를것 같은데 일반적으로 생각해봤을때
삭제하는게 좋을것 같아요!
삭제하는 방향으로 가시죠 ㅎㅎ
주문내역에 있을테니..

---

피드백 감사합니다 방향이 명확해진 것 같아요!
정말...감사합니다 회사에서도 좀 고민하던 내용이랑 같이 잘 풀어나갈 수 있을 것 같습니다!
